<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<html lang="ko" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <title>Game</title>
    <link rel="stylesheet" th:href="@{../static/bootstrap-5.1.3-dist/css/bootstrap.css}">
    <link rel="stylesheet" th:href="@{../static/css/game.css}">
    <style>
        * img{
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <div th:insert="common/header.html" id="header"></div>

    <hr>

    <div id="account_option">
        <a sec:authorize ="isAnonymous()" th:href="@{/member/login}" >로그인</a>
        <a sec:authorize ="isAuthenticated()" th:href="@{/member/logout}" >로그아웃</a>
        <a sec:authorize ="isAnonymous()" th:href="@{/member/signUp}">회원가입</a>
    </div>

    <hr>

    <div id="mainContent_game">

        <iframe src="https://ingukoh.github.io/BungterMelon_Marge/" style="width: 100%; height: 100%" id="iframe_game">

        </iframe>

      <!--  <iframe srcdoc="<html>
           <head></head>
           <body>srcdoc=https://ingukoh.github.io/BungterMelon_Marge/</body>" name="붕박깨기">

        </iframe>
        -->

       <!-- <div id="MyCharacter">

            <div id="player_Character">
                <img th:src="@{/img/MyCharacter/MyCharacter.png}" class="test">
            </div>

            <div id="MyCharacter_info">
                <div id="MyHP">

                </div>
                <div id="MyAttribute">
                    <img th:src="@{/img/Attribute/Attribute.png}">
                </div>
            </div>

        </div>

        <div id="Enemy">
            <div id="Enemy_Character">
                <img th:src="@{/img/Enemy/Enemy.png}">
            </div>

            <div id="Enemy_info">
                <div id="EnemyAttribute">
                    <img th:src="@{/img/Attribute/Attribute.png}">
                </div>
                <div id="EnemyHP">

                </div>
            </div>
        </div>

        <div id="Group_btn_ActionKey">
            <button type="button" name="Attack" id="Attack">공격</button>
            <div id="Group_btn_ActionKey_Skills">
                <button type="button" name="Skill_1" id="Skill_1">스킬1</button>
                <button type="button" name="Skill_2" id="Skill_2">스킬2</button>
                <button type="button" name="Skill_3" id="Skill_3">스킬3</button>
            </div>
        </div>-->
    </div>

    <div id="game_score">
        <form action="/post_gameScore" method="post" name="post_gameScore" id="post_gameScore" ><!--onsubmit="return false"-->
            <input type="text" id="get_score" th:value=0>
            <input type="text" id="uID" th:value="${Login_UID}">
            <button type="submit" id="btn_submit">게임 점수 등록</button>
        </form>

    </div>

    <div id="go_location">
        <button type="button" onclick="location.href='/list'">리스트</button>
    </div>

    <!-- FOOTER -->
    <div th:insert="common/footer.html" id="footer"></div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript">

        var input_score = document.getElementById("get_score");

        window.addEventListener('message', function(e) {
            console.log('메세지 받음');
            var score_DATA = e.data;

            console.log('e : ' + score_DATA["childData"]); //게임 점수 받기

            if(e.data.childData != null){
                alert("받음받음받음 받음 받음!!!!!!!!!!!!!")
                input_score.value = score_DATA["childData"];
            }
        });

        /*window.addEventListener('message', function (e){
            console.log('부모창 부모창 부모창 !!!!!!');
            console.log(e.data);
            console.log("e.origin : " + e.origin);
            if(e.data.Data === 'testtesttesttesttest!!!!!!!!!!!'){
                alert(e.data.Data);
            }
        });*/
       /* var score = document.getElementById("get_score");*/
    </script>

</body>
</html>
